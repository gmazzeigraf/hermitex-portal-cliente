<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<div class="ui-g">
		<div class="ui-g-12">
			<div class="card card-w-title">
				<h1>Endereço Faturamento</h1>

				<h:outputText value="Caso seja necessário alterar o endereço, solicite ao responsável." styleClass="label" style="color: red;" />

				<p:panelGrid columns="1" id="enderecoFaturamentoGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:panelGrid columns="3" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="cepFaturamento" value="CEP" styleClass="label" />
							<p:inputMask id="cepFaturamento" styleClass="ui-grid-col-12" mask="99.999-999" value="#{carrinhoController.enderecoFaturamento.cep}"
								converter="maskConverter" validatorMessage="CEP inválido" required="true" requiredMessage="Favor informar o CEP" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="logradouroFaturamento" value="Logradouro" styleClass="label" />
							<p:inputText id="logradouroFaturamento" value="#{carrinhoController.enderecoFaturamento.logradouro}" maxlength="100"
								styleClass="ui-grid-col-12" required="true" requiredMessage="Favor informar o logradouro" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="numeroFaturamento" value="Número" styleClass="label" />
							<p:inputText id="numeroFaturamento" value="#{carrinhoController.enderecoFaturamento.numero}" maxlength="10" styleClass="ui-grid-col-12"
								required="true" requiredMessage="Favor informar o número" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="bairroFaturamento" value="Bairro" styleClass="label" />
							<p:inputText id="bairroFaturamento" value="#{carrinhoController.enderecoFaturamento.bairro}" maxlength="100" styleClass="ui-grid-col-12"
								required="true" requiredMessage="Favor informar o bairro" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="estadoFaturamento" value="Estado" styleClass="label" />
							<p:selectOneMenu id="estadoFaturamento" value="#{carrinhoController.enderecoFaturamento.siglaEstado}" styleClass="ui-grid-col-12"
								required="true" requiredMessage="Favor informar o estado" filter="true" filterMatchMode="startsWith" disabled="true">
								<f:selectItem itemLabel="" itemValue="" />
								<f:selectItems value="#{carrinhoController.estados}" var="item" itemLabel="#{item.nome}" itemValue="#{item.sigla}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="municipioFaturamento" value="Município" styleClass="label" />
							<p:selectOneMenu id="municipioFaturamento" value="#{carrinhoController.enderecoFaturamento.idMunicipio}" styleClass="ui-grid-col-12"
								required="true" requiredMessage="Favor informar o município" filter="true" filterMatchMode="startsWith" disabled="true">
								<f:selectItem itemLabel="" itemValue="" />
								<f:selectItems value="#{carrinhoController.municipiosFaturamento}" var="item" itemLabel="#{item.nome}" itemValue="#{item.id}" />
							</p:selectOneMenu>
						</p:panelGrid>
					</p:panelGrid>
					<p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:outputLabel for="complementoFaturamento" value="Complemento" styleClass="label" />
						<p:inputText id="complementoFaturamento" value="#{carrinhoController.enderecoFaturamento.complemento}" maxlength="100"
							styleClass="ui-grid-col-12" disabled="true" />
					</p:panelGrid>
				</p:panelGrid>
			</div>

			<div class="card card-w-title">
				<h1>Endereço Entrega</h1>

				<h:outputText value="Caso seja necessário alterar o endereço, solicite ao responsável." styleClass="label" style="color: red;" />

				<p:panelGrid columns="1" id="enderecoEntregaGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:panelGrid columns="3" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="cepEntrega" value="CEP" styleClass="label" />
							<p:inputMask id="cepEntrega" styleClass="ui-grid-col-12" mask="99.999-999" value="#{carrinhoController.enderecoEntrega.cep}"
								converter="maskConverter" validatorMessage="CEP inválido" required="true" requiredMessage="Favor informar o CEP" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="logradouroEntrega" value="Logradouro" styleClass="label" />
							<p:inputText id="logradouroEntrega" value="#{carrinhoController.enderecoEntrega.logradouro}" maxlength="100" styleClass="ui-grid-col-12"
								required="true" requiredMessage="Favor informar o logradouro" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="numeroEntrega" value="Número" styleClass="label" />
							<p:inputText id="numeroEntrega" value="#{carrinhoController.enderecoEntrega.numero}" maxlength="10" styleClass="ui-grid-col-12" required="true"
								requiredMessage="Favor informar o número" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="bairroEntrega" value="Bairro" styleClass="label" />
							<p:inputText id="bairroEntrega" value="#{carrinhoController.enderecoEntrega.bairro}" maxlength="100" styleClass="ui-grid-col-12"
								required="true" requiredMessage="Favor informar o bairro" disabled="true" />
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="estadoEntrega" value="Estado" styleClass="label" />
							<p:selectOneMenu id="estadoEntrega" value="#{carrinhoController.enderecoEntrega.siglaEstado}" styleClass="ui-grid-col-12" required="true"
								requiredMessage="Favor informar o estado" filter="true" filterMatchMode="startsWith" disabled="true">
								<f:selectItem itemLabel="" itemValue="" />
								<f:selectItems value="#{carrinhoController.estados}" var="item" itemLabel="#{item.nome}" itemValue="#{item.sigla}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<p:outputLabel for="municipioEntrega" value="Município" styleClass="label" />
							<p:selectOneMenu id="municipioEntrega" value="#{carrinhoController.enderecoEntrega.idMunicipio}" styleClass="ui-grid-col-12" required="true"
								requiredMessage="Favor informar o município" filter="true" filterMatchMode="startsWith" disabled="true">
								<f:selectItem itemLabel="" itemValue="" />
								<f:selectItems value="#{carrinhoController.municipiosEntrega}" var="item" itemLabel="#{item.nome}" itemValue="#{item.id}" />
							</p:selectOneMenu>
						</p:panelGrid>
					</p:panelGrid>

					<p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:outputLabel for="complementoEntrega" value="Complemento" styleClass="label" />
						<p:inputText id="complementoEntrega" value="#{carrinhoController.enderecoEntrega.complemento}" maxlength="100" styleClass="ui-grid-col-12"
							disabled="true" />
					</p:panelGrid>
				</p:panelGrid>
			</div>

			<div class="card card-w-title">
				<h1>Frete</h1>
				<p:panelGrid columns="3" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:spacer styleClass="display-desktop" />

					<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
						<h3>Tipo</h3>
						<p:selectOneMenu id="tipoFrete" value="#{carrinhoController.codigoServicoFrete}" styleClass="ui-grid-col-12">
							<f:selectItem itemLabel="Selecione" itemValue="" />
							<f:selectItems value="#{carrinhoController.tiposFrete}" var="item" itemLabel="#{item.descricao}" itemValue="#{item.codigoServico}" />
							<p:ajax process="@this" update=":mainForm:dadosPagamentoGrid" listener="#{carrinhoController.changeTipoFrete}" />
						</p:selectOneMenu>
					</p:panelGrid>
				</p:panelGrid>
			</div>

			<div class="card card-w-title">
				<h1>Pagamento</h1>
				<p:panelGrid columns="3" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:spacer styleClass="display-desktop" />

					<p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank form-group" id="dadosPagamentoGrid">
						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" rendered="#{carrinhoController.tipoFreteSelecionado}">
							<h3>Total do pedido: #{carrinhoController.pedido.formattedValorTotal}</h3>
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
							<h3>Forma</h3>
							<p:selectOneMenu id="formaPagamento" value="#{carrinhoController.pedido.idFormaPagamento}" styleClass="ui-grid-col-12"
								disabled="#{!carrinhoController.tipoFreteSelecionado}">
								<f:selectItem itemLabel="Selecione" itemValue="" />
								<f:selectItems value="#{carrinhoController.formasPagamento}" var="item" itemLabel="#{item.descricao}" itemValue="#{item.id}" />
								<p:ajax process="@this" update="dadosPagamentoGrid" listener="#{carrinhoController.changeFormaPagamento}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid"
							rendered="#{carrinhoController.formaPagamentoSelecionada and carrinhoController.formaPagamento.cartaoCredito}">
							<h3>Dados do cartão</h3>
							<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
								<p:outputLabel for="bandeira" value="Bandeira" styleClass="label" />
								<p:selectOneMenu id="bandeira" value="#{carrinhoController.dadosPagamentoCartaoCredito.bandeira}" styleClass="ui-grid-col-12" required="true"
									requiredMessage="Favor selecionar a bandeira do cartão">
									<f:selectItem itemLabel="Selecione" itemValue="" />
									<f:selectItems value="#{domPedidoController.bandeiraCartaoCreditoMap}" />
								</p:selectOneMenu>
							</p:panelGrid>

							<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
								<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
									<p:outputLabel for="nomeImpresso" value="Nome Impresso" styleClass="label" />
									<p:inputText id="nomeImpresso" value="#{carrinhoController.dadosPagamentoCartaoCredito.nomeImpresso}" styleClass="ui-grid-col-12"
										required="true" requiredMessage="Favor informar o nome impresso no cartão" maxlength="40" />
								</p:panelGrid>
							</p:panelGrid>

							<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
								<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
									<p:outputLabel for="documentoPortador" value="CPF/CNPJ do Portador" styleClass="label" />
									<p:inputText id="documentoPortador" value="#{carrinhoController.dadosPagamentoCartaoCredito.documentoPortador}" styleClass="ui-grid-col-12"
										required="true" requiredMessage="Favor informar o nome impresso no cartão" maxlength="14" onkeypress="mascara(this, inteiro);" />
								</p:panelGrid>
							</p:panelGrid>

							<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
								<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
									<p:outputLabel for="numero" value="Número do Cartão" styleClass="label" />
									<p:inputMask id="numero" value="#{carrinhoController.dadosPagamentoCartaoCredito.numero}" styleClass="ui-grid-col-12" required="true"
										requiredMessage="Favor informar o número do cartão" mask="9999 9999 9999 9999" converter="maskConverter" />
								</p:panelGrid>
							</p:panelGrid>

							<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
								<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
									<p:outputLabel for="vencimento" value="Vencimento" styleClass="label" />
									<p:inputMask id="vencimento" value="#{carrinhoController.dadosPagamentoCartaoCredito.vencimento}" styleClass="ui-grid-col-12" required="true"
										requiredMessage="Favor informar o vencimento do cartão" mask="99/9999" placeholder="mm/aaaa" converter="maskConverter" />
								</p:panelGrid>
							</p:panelGrid>

							<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
								<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid">
									<p:outputLabel for="codigoSeguranca" value="Código Segurança" styleClass="label" />
									<p:inputMask id="codigoSeguranca" value="#{carrinhoController.dadosPagamentoCartaoCredito.codigoSeguranca}" styleClass="ui-grid-col-12"
										required="true" requiredMessage="Favor informar o vencimento do cartão" mask="999" converter="maskConverter" />
								</p:panelGrid>
							</p:panelGrid>
						</p:panelGrid>


						<p:commandButton icon="fa fa-fw fa-check" value="#{labels.botao_finalizar_pedido}" update=":mainForm :routeBarForm :formMenu"
							oncomplete="carregaClose();" process=":mainForm" styleClass="ui-grid-col-12" actionListener="#{carrinhoController.finalizaPedido}"
							disabled="#{!carrinhoController.formaPagamentoSelecionada}" />
					</p:panelGrid>
				</p:panelGrid>
			</div>
		</div>
	</div>
</ui:composition>